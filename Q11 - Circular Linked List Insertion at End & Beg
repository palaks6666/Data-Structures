class Main 
{   
    public Node head = null; 
    public Node tail = null; 
    class Node{    
        int data;    
        Node next;
        public Node(int data) {    
            this.data = data;    
            this.next = null;    
        }    
    }    
    public void insertAfter(int certainNode, int data){ 
        Node current = head;
        if(head == null) {
            System.out.println("Error:List is empty");    
            return;    
        }      
        int i=1;
        while(current != null && i<=certainNode) {   
//            System.out.println(i+" ,Certain node ="+current.data);
            if(i<certainNode)
                current = current.next;
            i++;
        }   
        i--;
        if(i<certainNode){
            System.out.println("Error:Certain node is not available please add data first");    
            return;   
        }
        if (current == null) 
        { 
            System.out.println("Error:Certain node is null"); 
            return; 
        }  
        Node nNode = new Node(data); 
        nNode.next = current.next; 
        current.next = nNode; 
    } 
    public void display() {   
        Node current = head;
        if(head == null) {    
            System.out.println("List is empty");    
            return;    
        }    
        System.out.println("Nodes of singly circular linked list: ");    
        while(current != null) {    
            System.out.print(current.data + " ");    
            current = current.next;    
            if(current==head) break;
        }    
        System.out.println();    
	}    
    public void insertBeg(int data){
        Node nNode = new Node(data);  
        if(head == null) {  
            head = nNode;  
            tail = nNode;  
            nNode.next = head;  
        }else {  
            tail.next = nNode;  
            nNode.next = head;  
            head = nNode;  
        }  
    }
	    
    public void deletionBeg(){
      if(head==null)
      {
        System.out.println("LIST IS EMPTY");
      }
      else
      {
        Node temp=head;
        head=head.next;
        tail.next=head;
        temp=null;
      }
    }
    public void deletionEnd()
    {
      if(head==null)
      {
        System.out.println("LIST IS EMPTY");
      }
      else
      {
        Node secondlast=head;
        while(secondlast.next.next!=head)
        {
          secondlast=secondlast.next;
        }
        Node last=secondlast.next;
        secondlast.next=head;
        tail=secondlast;
        last=null;
      }
    }
    public void insertEnd(int data)
    {
        Node nNode = new Node(data);  
        if(head == null) {  
            head = nNode;  
            tail = nNode;  
            nNode.next = head;  
        }else {  
            tail.next = nNode;  
            tail = nNode;  
            nNode.next = head;  
        }  
    }
	    
	public static void main(String[] args) {
		Main ob= new Main();
		ob.insertBeg(2);
		ob.insertBeg(23);
		ob.insertBeg(20);
		ob.insertBeg(40);
 		ob.insertEnd(45);
 		ob.insertEnd(50);
		ob.display();	
 		ob.insertAfter(3,25);
 		ob.deletionBeg();
 		ob.deletionEnd();
 		ob.display();	
	}
}
